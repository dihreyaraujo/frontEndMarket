(this["webpackJsonpmarket-front-project"]=this["webpackJsonpmarket-front-project"]||[]).push([[0],{20:function(e,t,a){},24:function(e,t,a){e.exports=a(44)},29:function(e,t,a){},30:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),i=a.n(c),o=(a(29),a(4)),s=a(5),l=a(7),u=a(6),m=(a(30),a(12)),d=a(2),p=a(14),h=a(13),f=(a(20),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement(m.b,{to:"/",className:"text-header-h1"},r.a.createElement("h1",null,"Dihrey Market")),r.a.createElement("nav",null,r.a.createElement(m.b,{"data-testid":"shopping-cart-button",to:"/cart",className:"text-header-p"},"Carrinho")))}}]),a}(r.a.Component)),g=(a(39),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={arrayProducts:[],pricesItems:[]},e.componentDidMount=function(){e.getProductsLocalStorage()},e.getProductsLocalStorage=function(){var t=JSON.parse(localStorage.getItem("Products")),a=t.map((function(e){return e.price}));e.setState({arrayProducts:t,pricesItems:a}),e.setIdsState(t)},e.aumentar=function(t){var a,n=t.target.className,r=e.state,c=r.arrayProducts,i=r[n],o=r.pricesItems,s=c.find((function(e){return e.id===n})),l=s.available_quantity,u=s.price,m=[].concat(Object(h.a)(o),[u]),d=e.state[n],f=parseInt(d,10)+1;i<l&&e.setState((a={},Object(p.a)(a,n,f),Object(p.a)(a,"pricesItems",m),a))},e.diminuir=function(t){var a=t.target.className,n=e.state,r=n[a],c=n.arrayProducts,i=n.pricesItems,o=c.find((function(e){return e.id===a})),s=parseFloat("-".concat(o.price),10);console.log(s);var l=[].concat(Object(h.a)(i),[s]);if(r>=2){var u,m=parseInt(r,10)-1;e.setState((u={},Object(p.a)(u,a,m),Object(p.a)(u,"pricesItems",l),u))}else{var d=c.filter((function(e){return e.id!==t.target.className}));e.setState({arrayProducts:d,pricesItems:l}),localStorage.setItem("Products",JSON.stringify(d))}},e.setIdsState=function(t){null!==t&&t.map((function(t){return e.setState(Object(p.a)({},t.id,1))}))},e.setParagrafo=function(t){var a=e.state[t];return r.a.createElement("p",{"data-testid":"shopping-cart-product-quantity"},a)},e}return Object(s.a)(a,[{key:"getTotalValue",value:function(){var e=this.state.pricesItems.reduce((function(e,t){return e+t}),0);return r.a.createElement("p",null,"R$".concat(e.toFixed(2)))}},{key:"render",value:function(){var e=this,t=this.state.arrayProducts;return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"cart-section"},r.a.createElement("div",null,0===t.length?r.a.createElement("p",{"data-testid":"shopping-cart-empty-message",className:"empty-car"},"Seu carrinho est\xe1 vazio"):r.a.createElement("div",{className:"cart-items"},t.map((function(t,a){return r.a.createElement("li",{key:t.id,className:"items"},r.a.createElement("p",{"data-testid":"shopping-cart-product-name"},"".concat(t.title)),r.a.createElement("br",null),r.a.createElement("img",{src:t.thumbnail,alt:t.title,width:"150px"}),r.a.createElement("br",null),r.a.createElement("p",{id:"price".concat(a)},"Pre\xe7o: R$ ".concat(t.price*e.state[t.id])),r.a.createElement("br",null),r.a.createElement("button",{type:"button",onClick:e.diminuir,"data-testid":"product-decrease-quantity",className:t.id},"Diminuir"),r.a.createElement("p",null,e.setParagrafo(t.id)),r.a.createElement("button",{type:"button",onClick:e.aumentar,"data-testid":"product-increase-quantity",className:t.id},"Aumentar"))})))),r.a.createElement("div",null,t.length>0?r.a.createElement(m.b,{to:"/checkout",className:"total-value"},r.a.createElement("h1",null,"Total"),this.getTotalValue(),r.a.createElement("button",{type:"button","data-testid":"checkout-products"},"Finalizar Compra")):"")))}}]),a}(r.a.Component)),v=a(1),b=a.n(v),y=a(9);function E(){return j.apply(this,arguments)}function j(){return(j=Object(y.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.mercadolibre.com/sites/MLB/categories",e.next=3,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return k.apply(this,arguments)}function k(){return(k=Object(y.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=" https://api.mercadolibre.com/sites/MLB/search?q=".concat(t),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return N.apply(this,arguments)}function N(){return(N=Object(y.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.mercadolibre.com/sites/MLB/search?category=".concat(t),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r.results);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return w.apply(this,arguments)}function w(){return(w=Object(y.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.mercadolibre.com/items/".concat(t),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(41);var x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={categories:void 0},e.callGetCategories=Object(y.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:a=t.sent,e.setState({categories:a});case 4:case"end":return t.stop()}}),t)}))),e.categoryList=function(){var t=e.state.categories,a=e.props.click;return t.map((function(e){return r.a.createElement("label",{"data-testid":"category",htmlFor:e.id,key:e.id,className:"category"},r.a.createElement("input",{name:"category",type:"radio",id:e.id,onClick:a}),e.name)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.callGetCategories()}},{key:"render",value:function(){var e=this.state.categories;return r.a.createElement("div",{className:"category-css"},void 0!==e&&this.categoryList())}}]),a}(r.a.Component),I=(a(42),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={ready:!1,value:"",arrayProducts:[],productCategory:[],categoryReady:!1,objectProductsCart:[]},e.getValue=function(t){e.setState({value:t.target.value})},e.searchItems=Object(y.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.value,e.setState({ready:!0,categoryReady:!1}),t.next=4,O(a);case 4:n=t.sent,e.setState({arrayProducts:n.results});case 6:case"end":return t.stop()}}),t)}))),e.searchForCategory=function(){var t=Object(y.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.id,t.next=3,C(n);case 3:r=t.sent,e.setState({productCategory:r,categoryReady:!0,ready:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.elementsCategory=function(){return e.state.productCategory.map((function(t){return r.a.createElement("div",{key:t.id,"data-testid":"product",className:"items-list"},r.a.createElement(m.b,{"data-testid":"product-detail-link",to:"/product/".concat(t.id),className:"product-info"},r.a.createElement("p",null,t.title),r.a.createElement("img",{src:t.thumbnail,alt:t.title,width:"200px"}),r.a.createElement("p",null,"R$".concat(t.price))),t.shipping.free_shipping&&r.a.createElement("p",{"data-testid":"free-shipping"},"Frete Gr\xe1tis"),r.a.createElement("button",{type:"button","data-testid":"product-add-to-cart",onClick:function(){return e.onAddCart(t)}},"Adicionar ao Carrinho"))}))},e.onAddCart=function(t){e.setState((function(e){return{objectProductsCart:[].concat(Object(h.a)(e.objectProductsCart),[t])}}),e.saveLocalStorage)},e.saveLocalStorage=function(){var t=e.state.objectProductsCart;localStorage.setItem("Products",JSON.stringify(t))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.ready,n=t.value,c=t.arrayProducts,i=t.categoryReady;return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"search-div"},r.a.createElement("input",{type:"text","data-testid":"query-input",onChange:this.getValue,value:n,className:"imput-search",placeholder:"Digite algum termo de pesquisa"}),r.a.createElement("button",{type:"button","data-testid":"query-button",onClick:this.searchItems,className:"button-search"},"Pesquisar")),r.a.createElement("div",{className:"home-css"},r.a.createElement(x,{click:this.searchForCategory}),r.a.createElement("div",{className:"items-search"},a&&c.map((function(t){return r.a.createElement("div",{key:t.id,"data-testid":"product",className:"items-list"},r.a.createElement(m.b,{"data-testid":"product-detail-link",to:"/product/".concat(t.id),className:"product-info"},"Produto: ".concat(t.title),r.a.createElement("br",null),r.a.createElement("img",{src:t.thumbnail,alt:t.title,width:"200px"}),r.a.createElement("br",null),"Pre\xe7o: R$ ".concat(t.price),r.a.createElement("br",null)),t.shipping.free_shipping&&r.a.createElement("p",{"data-testid":"free-shipping"},"Frete Gr\xe1tis"),r.a.createElement("button",{type:"button","data-testid":"product-add-to-cart",onClick:function(){return e.onAddCart(t)}},"Adicionar ao Carrinho"))}))),r.a.createElement("div",{className:"items-search"},i&&this.elementsCategory())))}}]),a}(r.a.Component)),P=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.handleRating;return r.a.createElement("div",{className:"avaliation-radio"},r.a.createElement("label",{htmlFor:"check1"},"1",r.a.createElement("input",{type:"radio","data-testid":"1-rating",id:"check1",name:"rating",value:"1",onChange:e})),r.a.createElement("label",{htmlFor:"check2"},"2",r.a.createElement("input",{type:"radio","data-testid":"2-rating",id:"check2",name:"rating",value:"2",onChange:e})),r.a.createElement("label",{htmlFor:"check3"},"3",r.a.createElement("input",{type:"radio","data-testid":"3-rating",id:"check3",name:"rating",value:"3",onChange:e})),r.a.createElement("label",{htmlFor:"check4"},"4",r.a.createElement("input",{type:"radio","data-testid":"4-rating",id:"check1",name:"rating",value:"4",onChange:e})),r.a.createElement("label",{htmlFor:"check5"},"5",r.a.createElement("input",{type:"radio","data-testid":"5-rating",id:"check5",name:"rating",value:"5",onChange:e})))}}]),a}(r.a.Component),R=(a(43),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={info:{},ready:!1,email:"",describe:"",rating:"",ratings:[]},e.callGetItem=Object(y.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params,t.next=3,S(a.id);case 3:n=t.sent,e.setState({info:n,ready:!0});case 5:case"end":return t.stop()}}),t)}))),e.getCart=function(){var t=e.state.info,a=[t],n=JSON.parse(localStorage.getItem("Products"));if(null===n)localStorage.setItem("Products",JSON.stringify(a));else{var r=[].concat(Object(h.a)(n),[t]);localStorage.setItem("Products",JSON.stringify(r))}},e.createItem=function(){var t=e.state.info;return r.a.createElement("div",{className:"item-info"},r.a.createElement("p",{"data-testid":"product-detail-name"},t.title),r.a.createElement("img",{src:t.thumbnail,alt:t.title}),r.a.createElement("p",null,"R$".concat(t.price)),r.a.createElement("button",{type:"button","data-testid":"product-detail-add-to-cart",onClick:e.getCart},"Adicionar ao Carrinho"))},e.handleRating=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(p.a)({},r,n))},e.handleClick=function(){var t=e.state,a=t.email,n=t.describe,r=t.rating,c=t.ratings,i={describe:n,email:a,rating:r};e.setState({ratings:[].concat(Object(h.a)(c),[i]),ready:!0}),e.setState({email:"",describe:"",rating:1});var o=JSON.stringify([].concat(Object(h.a)(c),[i]));localStorage.setItem("ratings",o)},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.callGetItem();var e=localStorage.getItem("ratings");e&&this.setState({ratings:JSON.parse(e),ready:!0})}},{key:"render",value:function(){var e=this.state,t=e.ready,a=e.describe,n=e.ratings;return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"item-content"},t&&this.createItem()),r.a.createElement("div",{className:"item-describe"},r.a.createElement("form",{className:"form"},r.a.createElement("p",null,"Avalia\xe7\xe3o"),r.a.createElement("input",{"data-testid":"product-detail-email",type:"email",onChange:this.handleRating,name:"email",required:!0,placeholder:"Email"}),r.a.createElement(P,{handleRating:this.handleRating}),r.a.createElement("textarea",{"data-testid":"product-detail-evaluation",onChange:this.handleRating,value:a,name:"describe",placeholder:"Feedback"}),r.a.createElement("button",{"data-testid":"submit-review-btn",onClick:this.handleClick,type:"button"},"Enviar")),r.a.createElement("div",null,t&&n.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e.email),r.a.createElement("p",null,e.describe),r.a.createElement("p",null,e.rating))}))))))}}]),a}(r.a.Component)),F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"ty"},r.a.createElement("h1",null,"Isso foi apenas uma simula\xe7\xe3o do meu projeto de e-commerce"),r.a.createElement("p",null,"Obrigado por test\xe1-lo ! ! !"),r.a.createElement("a",{href:"https://dihrey.netlify.app/",rel:"noopener noreferrer",target:"_blank"},"Meu Portf\xf3lio")),r.a.createElement("div",{className:"div-seta-check"},r.a.createElement("img",{src:"https://cdn-icons-png.flaticon.com/512/20/20901.png?w=360",alt:"seta",className:"seta"}),r.a.createElement("p",null,"Voltar Ao In\xedcio")))}}]),a}(r.a.Component),A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:I}),r.a.createElement(d.a,{path:"/cart",component:g}),r.a.createElement(d.a,{path:"/product/:id",component:R}),r.a.createElement(d.a,{path:"/checkout",component:F})))}}]),a}(r.a.Component),q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.da0d1f8e.chunk.js.map